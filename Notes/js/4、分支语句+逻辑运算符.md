# 四、JavaScript分支语句和逻辑运算符

## 1. 程序的执行顺序

- **在程序开发中，程序有三种不同的执行方式：**

  - 顺序 —— `从上向下`，顺序执行代码

  - 分支 —— 根据`条件判断`，决定执行代码的 `分支`

  - 循环 —— 让 `特定代码 重复` 执行

    ![](https://raw.githubusercontent.com/chen-zhuo-lin/pictures/main/2022-11/20221111230801.png)



## 2. 代码块的理解

- **`代码块`是多行执行代码的集合，通过一个`花括号{}`放到了一起。**

  - **在开发中，一行代码很难完成某一个特定的功能，我们就会将这些代码放到一个代码块中**

    ```javascript
    {
      var name = '陈卓林'
      var message = 'my name is ' + name
    }
    ```

- **在JavaScript中，我们可以通过流程控制语句来决定如何执行一个代码块：**

  - 通常会通过`一些关键字来告知js引擎代码`要如何被执行；
  - 比如`分支语句、循环语句对应的关键字`等；



## 3. 什么是分支结构？

- **程序是生活的一种抽象**, 只是我们用代码表示了出来
  - 在开发中, 我们经常需要根据`一定的条件`, 来决定代码的`执行方向`
  - 如果 `条件满足`，才能`做某件事情`
  - 如果 `条件不满足`，就`做另外一件事情`
- **分支结构**
  - 分支结构的代码就是让我们`根据条件`来`决定代码的执行`
  - 分支结构的语句被称为`判断结构`或者`选择结构`
  - 几乎`所有的编程语言都有分支结构`（C、C++、OC、JavaScript等等）
- **JavaScript中常见的分支结构有：**
  - `if`分支结构
  - `switch`分支结构



## 4. if语句的细节补充

- **补充一：如果代码块中只有一行代码，那么{}可以省略：**
- **补充二：if (…) 语句会计算圆括号内的表达式，并将计算结果转换为布尔型（Boolean）**。
  - 转换规则和Boolean函数的规则一致；
  - `数字 0、空字符串 “”、null、undefined 和 NaN` 都会被转换成 `false`。
    - 因为它们被称为“假值（falsy）”；
  - `其他值`被转换为 `true`，所以它们被称为`“真值（truthy）”`；



## 5. 三元运算符

- **有时我们需要根据一个条件去赋值一个变量。**

  - 比如`比较数字大小`的时候，`获取较大的数字`；
  - 这个时候`if else语句就会显得过于臃肿`，有没有更加简介的方法呢？

- **条件运算符：" ? "**

  - 这个运算符通过`问号 ?` 表示；
  - 有时它被称为`三元运算符`，被称为“三元”是因为该运算符中有`三个操作数（运算元）`；
  - 实际上它是 JavaScript 中唯一一个有这么多操作数的运算符；

- **使用格式如下:**

  `var result = condition ? value1 : value2;`

- **案例一**： m=20，n=30，比较两个数字的大小，获取较大的那个数字

  ```javascript
  var m = 20;
  var n = 30;
  var result = m > n ? m : n
  ```



## 6. 认识逻辑运算符

- **逻辑运算符，主要是由三个：**

  - `||（或），&&（与），!（非）`

  - 它可以将`多个表达式或者值`放到一起来获取到一个`最终的结果`；

    ![](https://raw.githubusercontent.com/chen-zhuo-lin/pictures/main/2022-11/20221111231738.png)

- 有了逻辑运算符，我们就可以在判断语句中编写多个条件。



## 7. 逻辑或的本质

- **||（或）两个竖线符号表示“或”运算符（也称为短路或）：**
  - 从左到右依次计算操作数。
  - 处理每一个操作数时，都将其转化为`布尔值（Boolean）`；
  - 如果结果是 `true`，就停止计算，返回这个操作数的初始值。
  - 如果所有的操作数都被计算过（也就是，转换结果都是 false），则返回最后一个操作数。
- **注意：**返回的值是操作数的初始形式，不会转换为Boolean类型。



## 8. 逻辑与的本质

- **&&（或）两个竖线符号表示“与”运算符（也称为短路与）：**
  - 从左到右依次计算操作数。
  - 在处理每一个操作数时，都将其转化为`布尔值（Boolean）`；
  - 如果结果是 `false`，就停止计算，并返回这个操作数的初始值（一般不需要获取到初始值）；
  - 如果所有的操作数都被计算过（例如都是真值），则返回最后一个操作数。



## 9. !（非）

- **逻辑非运算符接受一个参数，并按如下运算：**
  - 步骤一：将 **操作数转化为布尔类型**：`true/false`；
  - 步骤二：**返回相反的值**;
- **两个非运算 `!!` 有时候用来将某个值转化为布尔类型：**
  - 也就是，第一个 **非运算将该值转化为布尔类型并取反，第二个非运算再次取反**。
  - 最后我们就得到了 **一个任意值到布尔值的转化**。



## 10. switch语句的细节补充

- **case穿透问题**：
  - 一条case语句结束后，**会自动执行下一个case的语句**；
  - 这种现象被称之为 **case穿透**；
- **break关键字**
  - 通过在每个case的代码块后添加 **`break`关键字** 来解决这个问题；
- **注意事项：这里的相等是严格相等**。
  - 被比较的值必须是相同的类型才能进行匹配。